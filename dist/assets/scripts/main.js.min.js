"use strict";var form=document.querySelector("main form"),input=document.querySelector("form input"),cities=document.querySelector(".results_container"),searchedCities=[],apiKey="d41c51bd00b41f49ec175f3582337b6c";function removeCard(e){document.getElementById(e).remove(),searchedCities.splice(searchedCities.indexOf(e.toLowerCase()))}form.addEventListener("submit",function(e){e.preventDefault();var c=input.value,e=cities.querySelectorAll(".results_container-box"),e=Array.from(e),e=(console.log(e),"http://api.openweathermap.org/data/2.5/weather?q=".concat(c,"&APPID=").concat(apiKey,"&units=metric"));-1==searchedCities.indexOf(c.toLowerCase())?fetch(e).then(function(e){return e.json()}).then(function(e){searchedCities.push(c.toLowerCase());var t=e.main,n=e.name,r=e.sys,o=e.weather,e=(e.wind,e.timezone,o[0].icon),o=document.createElement("div"),a=(o.classList.add("results_container-box"),o.setAttribute("id",n),"results_container-box-footer_default-temp"),n=(t.temp<10?a="results_container-box-footer_cold-temp":24<t.temp&&(a="results_container-box-footer_hot-temp"),'\n            <div class = "results_container-box-remove">\n            <a href = \'javascript:removeCard("'.concat(n,'");\'><i class="fa-solid fa-xmark"></i></a>\n            </div>\n            <div class = "results_container-box-header">\n            <h2 class = "city-name">\n            <span>').concat(n,"<sup> ").concat(r.country,'</sup></span>\n            </h2>\n            </div>\n            <hr>\n            <div class = "results_container-box-footer">\n                <img class = "card-header-image"src = http://openweathermap.org/img/wn/').concat(e,'@2x.png>\n                <span class = "').concat(a,'">').concat(Math.round(t.temp),"°C</span>\n                </div>\n                "));o.innerHTML=n,cities.appendChild(o)}).catch(function(){console.log("Error")}):console.log("Error, città già cercata!"),form.reset()});